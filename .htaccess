# Url_rewrite option
RewriteEngine On

RewriteRule ^tree_index/(.*)/ tree_index.php?tree_id=$1 [QSA]
RewriteRule ^tree_index/(.*) tree_index.php?tree_id=$1 [QSA]

RewriteRule ^index/ index.php [QSA]
RewriteRule ^index index.php [QSA]

RewriteRule ^list/(.*)/ list.php
RewriteRule ^list/(.*) list.php

RewriteRule ^list_names/(.*)/(.*)/ list_names.php?tree_id=$1&last_name=$2 [QSA]
RewriteRule ^list_names/(.*)/(.*) list_names.php?tree_id=$1&last_name=$2 [QSA]

RewriteRule ^cms_pages/(.*)/ cms_pages.php?select_page=$1
RewriteRule ^cms_pages/(.*) cms_pages.php?select_page=$1
RewriteRule ^cms_pages cms_pages.php

# *** First (.*) = $1, second (.*) = $2. [QSA] = also read extra variables. ***
RewriteRule ^family/(.*)/(.*)/ family.php?tree_id=$1&id=$2 [QSA]
RewriteRule ^family/(.*)/(.*) family.php?tree_id=$1&id=$2 [QSA]

# MVC (and wrong links will direct to index.php).
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-l
RewriteRule ^ index.php [QSA,L]